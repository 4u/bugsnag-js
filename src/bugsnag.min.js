!function(a){var b=window.Bugsnag;window.Bugsnag=a(window,document,navigator,b)}(function(a,b,c,d){function e(b){var c=a.console;void 0!==c&&void 0!==c.log&&c.log("[Bugsnag] "+b)}function f(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d)&&null!=d&&null!=a[d]){var e=b?b+"["+d+"]":d,g=a[d];c.push("object"==typeof g?f(g,e):encodeURIComponent(e)+"="+encodeURIComponent(g))}return c.join("&")}function g(a,b){if(null==b)return a;a=a||{};for(var c in b)if(b.hasOwnProperty(c))try{a[c]=b[c].constructor===Object?g(a[c],b[c]):b[c]}catch(d){a[c]=b[c]}return a}function h(a,b){if(t.testRequest)t.testRequest(a,b);else{var c=new Image;c.src=a+"?"+f(b)+"&ct=img&cb="+(new Date).getTime()}}function i(a){for(var b={},c=/^data\-([\w\-]+)$/,d=a.attributes,e=0;e<d.length;e++){var f=d[e];if(c.test(f.nodeName)){var g=f.nodeName.match(c)[1];b[g]=f.nodeValue}}return b}function j(a,b){u=u||i(C);var c=void 0!==t[a]?t[a]:u[a.toLowerCase()];return"false"===c&&(c=!1),void 0!==c?c:b}function k(a){return null!=a&&a.match(v)?!0:(e("Invalid API key '"+a+"'"),!1)}function l(b,d){var e=j("apiKey");if(k(e)){var f=j("releaseStage"),i=j("notifyReleaseStages");if(i){for(var l=!1,m=0;m<i.length;m++)if(f===i[m]){l=!0;break}if(!l)return}var n=g(j("metaData"),d),o=t.beforeNotify;if("function"==typeof o){var p=o(b,n);if(p===!1)return}var q=a.location;h(j("endpoint")||y,{notifierVersion:A,apiKey:e,projectRoot:j("projectRoot")||q.protocol+"//"+q.host,context:j("context")||q.pathname,userId:j("userId"),metaData:n,releaseStage:f,url:a.location.href,userAgent:c.userAgent,language:c.language||c.userLanguage,name:b.name,message:b.message,stacktrace:b.stacktrace,file:b.file,lineNumber:b.lineNumber,columnNumber:b.columnNumber})}}function m(){var a,b=10,c="[anonymous]";try{throw new Error("")}catch(d){a=n(d)}if(!a){for(var e=[],f=arguments.callee.caller.caller;f&&e.length<b;){var g=w.test(f.toString())?RegExp.$1||c:c;e.push(g),f=f.caller}a=e.join("\n")}return a}function n(a){return a.stack||a.backtrace||a.stacktrace}function o(){var a=j("metrics"),b=j("apiKey");if((a===!0||"true"===a)&&k(b)){var c="bugsnag_"+b,d=s(c);null==d&&(d=q(),r(c,d,1e3,!0)),h(j("metricsEndpoint")||z,{userId:d,apiKey:b})}}function p(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function q(){return p()+p()+"-"+p()+"-"+p()+"-"+p()+"-"+p()+p()+p()}function r(c,d,e,f){var g="",h="";if(e){var i=new Date;i.setTime(i.getTime()+1e3*60*60*24*e),h="; expires="+i.toGMTString()}if(f){var j=a.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),k=j?j[0]:"";g=k?"; domain=."+k:""}b.cookie=c+"="+encodeURIComponent(d)+h+"; path=/"+g}function s(a){var c=b.cookie.match(a+"=([^$;]+)");return c?decodeURIComponent(c[1]):null}var t={};t.noConflict=function(){return a.Bugsnag=d,t},t.notifyException=function(a,b,c){"string"!=typeof b&&(c=b),l({name:b||a.name,message:a.message||a.description,stacktrace:n(a)||m(),file:a.fileName||a.sourceURL,lineNumber:a.lineNumber||a.line},c)},t.notify=function(a,b,c){l({name:a,message:b,stacktrace:m()},c)},t._onerror=a.onerror,a.onerror=function(a,b,c,d,f){var g=j("autoNotify",!0);g&&"Script error."===a&&""===b&&0===c&&(e("Error on cross-domain script, couldn't notify Bugsnag."),g=!1),g&&l({name:"window.onerror",message:a,file:b,lineNumber:c,columnNumber:d,stacktrace:f&&n(f)}),t._onerror&&t._onerror(a,b,c)};var u,v=/^[0-9a-f]{32}$/i,w=/function\s*([\w\-$]+)?\s*\(/i,x="https://notify.bugsnag.com/",y=x+"js",z=x+"metrics",A="1.0.10",B=b.getElementsByTagName("script"),C=B[B.length-1];return o(),t});