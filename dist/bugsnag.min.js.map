{"version":3,"sources":["node_modules/browser-pack-flat/_prelude","node_modules/fast-safe-stringify/index.js","browser/plugins/interaction-breadcrumbs.js","base/lib/es-utils.js","base/breadcrumb.js","base/lib/positive-int-check.js","base/config.js","base/lib/infer-release-stage.js","base/lib/has-stack.js","node_modules/stackframe/stackframe.js","node_modules/error-stack-parser/error-stack-parser.js","node_modules/stack-generator/stack-generator.js","base/report.js","node_modules/cuid/dist/browser-cuid.js","base/session.js","node_modules/iserror/index.js","base/client.js","base/plugins/throttle.js","browser/config.js","browser/plugins/console-breadcrumbs.js","browser/plugins/context.js","browser/plugins/device.js","browser/plugins/inline-script-content.js","browser/plugins/ip.js","browser/plugins/navigation-breadcrumbs.js","browser/plugins/request.js","browser/plugins/sessions.js","browser/plugins/strip-query-string.js","browser/plugins/unhandled-rejection.js","browser/plugins/window-onerror.js","browser/transports/lib/payload.js","browser/transports/x-domain-request.js","browser/transports/xml-http-request.js","browser/index.js","node_modules/browser-pack-flat/_postlude"],"names":["f","exports","module","define","amd","window","global","self","this","bugsnag","stringify","obj","decirc","JSON","Circle","val","k","parent","count","stack","toJSON","forceDecirc","undefined","i","length","push","key","Object","prototype","hasOwnProperty","call","pop","getNodeSelector","el","parts","tagName","id","className","split","join","document","querySelectorAll","Array","indexOf","e","parentNode","childNodes","index","truncate","value","slice","reduce","arr","fn","accum","len","_hasDontEnumBug","toString","propertyIsEnumerable","_dontEnums","_pad","n","_$esUtils_4","map","item","concat","filter","includes","x","keys","result","prop","isArray","isoDate","d","Date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","toFixed","__isoDate_1","BugsnagBreadcrumb","name","arguments","metaData","type","timestamp","_classCallCheck","_$BugsnagBreadcrumb_1","__includes_7","_$positiveIntCheck_7","parseInt","__filter_3","__reduce_3","__keys_3","__isArray_3","_$config_3","schema","apiKey","defaultValue","message","validate","appVersion","autoNotify","beforeSend","endpoint","sessionEndpoint","autoCaptureSessions","notifyReleaseStages","releaseStage","maxBreadcrumbs","autoBreadcrumbs","user","mergeDefaults","opts","Error","errors","valid","_$inferReleaseStage_6","client","app","config","_$hasStack_5","err","stacktrace","root","factory","_$stackframe_33","StackFrame","_isNumber","isNaN","parseFloat","isFinite","_capitalize","str","charAt","toUpperCase","substring","_getter","p","props","booleanProps","numericProps","stringProps","arrayProps","getArgs","args","setArgs","v","TypeError","getEvalOrigin","evalOrigin","setEvalOrigin","getFunctionName","getFileName","getLineNumber","getColumnNumber","Boolean","j","Number","String","_$errorStackParser_29","ErrorStackParser","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","parse","error","parseOpera","match","parseV8OrIE","parseFFOrSafari","extractLocation","urlLike","exec","replace","line","tokens","locationParts","functionName","fileName","lineNumber","columnNumber","source","parseOpera9","parseOpera11","parseOpera10","lineRE","lines","argsRaw","functionCall","shift","_$stackGenerator_32","StackGenerator","backtrace","maxStackSize","curr","callee","test","RegExp","$1","caller","__reduce_9","__filter_9","BugsnagReport","errorClass","errorMessage","handledState","defaultHandledState","___classCallCheck_9","__isBugsnagReport","_ignored","_handledState","breadcrumbs","context","device","stringOrFallback","groupingHash","request","severity","frame","formatStackframe","session","ignore","isIgnored","updateMetaData","section","_updates","updates","removeMetaData","_extends","property","payloadVersion","exceptions","unhandled","severityReason","file","method","normaliseFunctionName","code","inProject","fallback","getStacktrace","errorFramesToSkip","generatedFramesToSkip","ensureReport","reportOrError","_$BugsnagReport_9","c","discreteValues","Math","pow","pad","num","size","s","substr","randomBlock","random","safeCounter","api","counter","getTime","fingerprint","slug","date","print","globalCount","cache","navigator","mimeTypes","userAgent","register","_$browserCuid_28","applitude","__isoDate_10","Session","___classCallCheck_10","startedAt","_handled","_unhandled","events","handled","trackError","report","_$Session_10","_$stringify_30","_$isError_31","__map_2","__reduce_2","__includes_2","__isArray_2","noop","BugsnagClient","notifier","configSchema","___classCallCheck_2","version","url","_configured","_transport","sendSession","sendReport","_logger","debug","info","warn","plugins","beforeSession","BugsnagSession","configure","___extends_2","validity","use","plugin","init","transport","t","logger","l","sid","sessionDelegate","_sessionDelegate","startSession","leaveBreadcrumb","crumb","notify","_normaliseError","normaliseError","_opts","originalSeverity","notifyArgs","hasNecessaryFields","_$BugsnagClient_2","_$throttle_8","maxEvents","refresh","_$config_11","location","host","collectUserIp","__map_13","__reduce_13","_$consoleBreadcrumbs_13","CONSOLE_LOG_METHODS","original","console","_len","_key","arg","stringified","apply","_restore","destroy","forEach","consoleBreadcrumbsEnabled","__filter_13","_$context_14","unshift","pathname","__isoDate_15","_$device_15","___extends_15","time","locale","browserLanguage","systemLanguage","userLanguage","language","__reduce_16","scriptStartRe","scriptEndRe","extractScriptContent","_$inlineScriptContent_16","html","DOMContentLoaded","getHtml","documentElement","outerHTML","originalLocation","href","onreadystatechange","readyState","htmlLines","_extractScriptContent","script","start","abs","content","startLine","end","_$interactionBreadcrumbs_17","addEventListener","event","targetText","targetSelector","getNodeText","target","interactionBreadcrumbsEnabled","text","textContent","innerText","_$ip_18","___extends_18","clientIp","_$navigationBreadcrumbs_19","drop","oldURL","from","relativeLocation","to","newURL","state","history","replaceState","wrapHistoryFn","pushState","navigationBreadcrumbsEnabled","a","createElement","search","hash","stateChangeToMetaData","title","currentPath","prevState","orig","_$request_20","___extends_20","__map_21","__isArray_21","__includes_21","_$sessions_21","sessionClient","___extends_21","sessions","__map_22","strip","_$stripQueryString_22","___extends_22","_strip","__reduce_23","_listener","_$unhandledRejection_23","listener","reason","isBluebird","detail","fixBluebirdStacktrace","serializableReason","onunhandledrejection","promise","removeEventListener","_ref","_$windowOnerror_24","prevOnError","onerror","messageOrEvent","lineNo","charNo","decorateStack","culprit","setFileName","setLineNumber","setColumnNumber","errorCharacter","_$payload_25","payload","__isoDate_26","_$xDomainRequest_26","cb","encodeURIComponent","req","XDomainRequest","onload","responseText","open","setTimeout","send","__isoDate_27","_$xmlHttpRequest_27","XMLHttpRequest","DONE","setRequestHeader","__map_12","__reduce_12","___extends_12","transports","_$browser_12","userPlugins","sessionTrackingEnabled","finalSchema","getPrefixedConsole","inferBreadcrumbSetting","consoleLog","consoleMethod","bind","defaultInDev","Bugsnag","Client","Report","Breadcrumb"],"mappings":"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","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.bugsnag = f()}})(function(){var define,module,exports;\n","module.exports = stringify\nstringify.default = stringify\nfunction stringify (obj) {\n  decirc(obj, '', [], null)\n  return JSON.stringify(obj)\n}\nfunction Circle (val, k, parent) {\n  this.val = val\n  this.k = k\n  this.parent = parent\n  this.count = 1\n}\nCircle.prototype.toJSON = function toJSON () {\n  if (--this.count === 0) {\n    this.parent[this.k] = this.val\n  }\n  return '[Circular]'\n}\nfunction decirc (val, k, stack, parent) {\n  if (typeof val === 'object' && val !== null) {\n    if (typeof val.toJSON === 'function') {\n      if (val instanceof Circle) {\n        val.count++\n        return\n      }\n      if (val.toJSON.forceDecirc === undefined) {\n        return\n      }\n    }\n    for (var i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        parent[k] = new Circle(val, k, parent)\n        return\n      }\n    }\n    stack.push(val)\n    for (var key in val) {\n      if (Object.prototype.hasOwnProperty.call(val, key)) {\n        decirc(val[key], key, stack, val)\n      }\n    }\n    stack.pop()\n  }\n}\n","/*\n * Leaves breadcrumbs when the user interacts with the DOM\n */\nmodule.exports = {\n  init: (client) => {\n    if (!('addEventListener' in window)) return\n\n    window.addEventListener('click', (event) => {\n      let targetText, targetSelector\n      try {\n        targetText = getNodeText(event.target)\n        targetSelector = getNodeSelector(event.target)\n      } catch (e) {\n        targetText = '[hidden]'\n        targetSelector = '[hidden]'\n        client._logger.error('Cross domain error when tracking click event. See https://docs.bugsnag.com/platforms/browsers/faq/#3-cross-origin-script-errors')\n      }\n      client.leaveBreadcrumb('UI click', { targetText, targetSelector }, 'user')\n    }, true)\n  },\n  configSchema: {\n    interactionBreadcrumbsEnabled: {\n      defaultValue: () => undefined,\n      validate: (value) => value === true || value === false || value === undefined,\n      message: '(boolean) interactionBreadcrumbsEnabled should be true or false'\n    }\n  }\n}\n\n// extract text content from a element\nconst getNodeText = el => {\n  let text = el.textContent || el.innerText || ''\n  if (!text && (el.type === 'submit' || el.type === 'button')) text = el.value\n  text = text.replace(/^\\s+|\\s+$/g, '') // trim whitespace\n  return truncate(text, 140)\n}\n\n// Create a label from tagname, id and css class of the element\nfunction getNodeSelector (el) {\n  const parts = [ el.tagName ]\n  if (el.id) parts.push('#' + el.id)\n  if (el.className && el.className.length) parts.push(`.${el.className.split(' ').join('.')}`)\n  // Can't get much more advanced with the current browser\n  if (!document.querySelectorAll || !Array.prototype.indexOf) return parts.join('')\n  try {\n    if (document.querySelectorAll(parts.join('')).length === 1) return parts.join('')\n  } catch (e) {\n    // Sometimes the query selector can be invalid just return it as-is\n    return parts.join('')\n  }\n  // try to get a more specific selector if this one matches more than one element\n  if (el.parentNode.childNodes.length > 1) {\n    const index = Array.prototype.indexOf.call(el.parentNode.childNodes, el) + 1\n    parts.push(`:nth-child(${index})`)\n  }\n  if (document.querySelectorAll(parts.join('')).length === 1) return parts.join('')\n  // try prepending the parent node selector\n  if (el.parentNode) return `${getNodeSelector(el.parentNode)} > ${parts.join('')}`\n  return parts.join('')\n}\n\nfunction truncate (value, length) {\n  const ommision = '(...)'\n  if (value && value.length <= length) return value\n  return value.slice(0, length - ommision.length) + ommision\n}\n","// minimal implementations of useful ES functionality\n\n// all we really need for arrays is reduce – everything else is just sugar!\n\n// Array#reduce\nconst reduce = (arr, fn, accum) => {\n  let val = accum\n  for (let i = 0, len = arr.length; i < len; i++) val = fn(val, arr[i], i, arr)\n  return val\n}\n\n// Array#filter\nconst filter = (arr, fn) =>\n  reduce(arr, (accum, item, i, arr) => !fn(item, i, arr) ? accum : accum.concat(item), [])\n\n// Array#map\nconst map = (arr, fn) =>\n  reduce(arr, (accum, item, i, arr) => accum.concat(fn(item, i, arr)), [])\n\n// Array#includes\nconst includes = (arr, x) =>\n  reduce(arr, (accum, item, i, arr) => accum === true || item === x, false)\n\nconst _hasDontEnumBug = !({ toString: null }).propertyIsEnumerable('toString')\nconst _dontEnums = [\n  'toString', 'toLocaleString', 'valueOf', 'hasOwnProperty',\n  'isPrototypeOf', 'propertyIsEnumerable', 'constructor'\n]\n\n// Object#keys\nconst keys = obj => {\n  // stripped down version of\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/Keys\n  const result = []\n  let prop\n  for (prop in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, prop)) result.push(prop)\n  }\n  if (!_hasDontEnumBug) return result\n  for (let i = 0, len = _dontEnums.length; i < len; i++) {\n    if (Object.prototype.hasOwnProperty.call(obj, _dontEnums[i])) result.push(_dontEnums[i])\n  }\n  return result\n}\n\n// Array#isArray\nconst isArray = obj => Object.prototype.toString.call(obj) === '[object Array]'\n\nconst _pad = n => n < 10 ? `0${n}` : n\n\n// Date#toISOString\nconst isoDate = () => {\n  // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString\n  const d = new Date()\n  return d.getUTCFullYear() +\n    '-' + _pad(d.getUTCMonth() + 1) +\n    '-' + _pad(d.getUTCDate()) +\n    'T' + _pad(d.getUTCHours()) +\n    ':' + _pad(d.getUTCMinutes()) +\n    ':' + _pad(d.getUTCSeconds()) +\n    '.' + (d.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) +\n    'Z'\n}\n\nmodule.exports = { map, reduce, filter, includes, keys, isArray, isoDate }\n","const { isoDate } = require('./lib/es-utils')\n\nclass BugsnagBreadcrumb {\n  constructor (name = '[anonymous]', metaData = {}, type = 'manual', timestamp = isoDate()) {\n    this.type = type\n    this.name = name\n    this.metaData = metaData\n    this.timestamp = timestamp\n  }\n\n  toJSON () {\n    return {\n      type: this.type,\n      name: this.name,\n      timestamp: this.timestamp,\n      metaData: this.metaData\n    }\n  }\n}\n\n// force `fast-safe-stringify` to do its thing\n// https://github.com/davidmarkclements/fast-safe-stringify#tojson-support\nBugsnagBreadcrumb.prototype.toJSON.forceDecirc = true\n\nmodule.exports = BugsnagBreadcrumb\n","const { includes } = require('./es-utils')\n\nmodule.exports = value =>\n  includes([ 'undefined', 'number' ], typeof value) &&\n  parseInt('' + value, 10) === value &&\n  value > 0\n","const { filter, reduce, keys, isArray } = require('./lib/es-utils')\nconst positiveIntIfDefined = require('./lib/positive-int-check')\n\nmodule.exports.schema = {\n  apiKey: {\n    defaultValue: () => null,\n    message: '(string) apiKey is required',\n    validate: value => typeof value === 'string' && value.length\n  },\n  appVersion: {\n    defaultValue: () => null,\n    message: '(string) appVersion should have a value if supplied',\n    validate: value => value === null || (typeof value === 'string' && value.length)\n  },\n  autoNotify: {\n    defaultValue: () => true,\n    message: '(boolean) autoNotify should be true or false',\n    validate: value => value === true || value === false\n  },\n  beforeSend: {\n    defaultValue: () => [],\n    message: '(array[Function]) beforeSend should only contain functions',\n    validate: value => typeof value === 'function' || (isArray(value) && filter(value, f => typeof f === 'function').length === value.length)\n  },\n  endpoint: {\n    defaultValue: () => '//notify.bugsnag.com',\n    message: '(string) endpoint should be set',\n    validate: () => true\n  },\n  sessionEndpoint: {\n    defaultValue: () => '//sessions.bugsnag.com',\n    message: '(string) sessionEndpoint should be set',\n    validate: () => true\n  },\n  autoCaptureSessions: {\n    defaultValue: () => false,\n    message: '(boolean) autoCaptureSessions should be true/false',\n    validate: val => val === true || val === false\n  },\n  notifyReleaseStages: {\n    defaultValue: () => null,\n    message: '(array[string]) notifyReleaseStages should only contain strings',\n    validate: value => value === null || (isArray(value) && filter(value, f => typeof f === 'string').length === value.length)\n  },\n  releaseStage: {\n    defaultValue: () => 'production',\n    message: '(string) releaseStage should be set',\n    validate: value => typeof value === 'string' && value.length\n  },\n  maxBreadcrumbs: {\n    defaultValue: () => 20,\n    message: '(number) maxBreadcrumbs must be a number (≤40) if specified',\n    validate: value => value === 0 || (positiveIntIfDefined(value) && (value === undefined || value <= 40))\n  },\n  autoBreadcrumbs: {\n    defaultValue: () => true,\n    message: '(boolean) autoBreadcrumbs should be true or false',\n    validate: (value) => typeof value === 'boolean'\n  },\n  user: {\n    defaultValue: () => null,\n    message: '(object) user should be an object',\n    validate: (value) => typeof value === 'object'\n  },\n  metaData: {\n    defaultValue: () => null,\n    message: '(object) metaData should be an object',\n    validate: (value) => typeof value === 'object'\n  }\n}\n\nmodule.exports.mergeDefaults = (opts, schema) => {\n  if (!opts || !schema) throw new Error('schema.mergeDefaults(opts, schema): opts and schema objects are required')\n  return reduce(keys(schema), (accum, key) => {\n    accum[key] = opts[key] !== undefined ? opts[key] : schema[key].defaultValue()\n    return accum\n  }, {})\n}\n\nmodule.exports.validate = (opts, schema) => {\n  if (!opts || !schema) throw new Error('schema.mergeDefaults(opts, schema): opts and schema objects are required')\n  const errors = reduce(keys(schema), (accum, key) => {\n    if (schema[key].validate(opts[key])) return accum\n    return accum.concat({ key, message: schema[key].message, value: opts[key] })\n  }, [])\n  return { valid: !errors.length, errors }\n}\n","module.exports = client =>\n  client.app && typeof client.app.releaseStage === 'string'\n    ? client.app.releaseStage\n    : client.config.releaseStage\n","// Given `err` which may be an error, does it have a stack property which is a string?\nmodule.exports = err =>\n  !!err &&\n  (!!err.stack || !!err.stacktrace || !!err['opera#sourceloc']) &&\n  typeof (err.stack || err.stacktrace || err['opera#sourceloc']) === 'string'\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (obj instanceof Object) {\n            for (var i = 0; i < props.length; i++) {\n                if (obj.hasOwnProperty(props[i]) && obj[props[i]] !== undefined) {\n                    this['set' + _capitalize(props[i])](obj[props[i]]);\n                }\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var functionName = this.getFunctionName() || '{anonymous}';\n            var args = '(' + (this.getArgs() || []).join(',') + ')';\n            var fileName = this.getFileName() ? ('@' + this.getFileName()) : '';\n            var lineNumber = _isNumber(this.getLineNumber()) ? (':' + this.getLineNumber()) : '';\n            var columnNumber = _isNumber(this.getColumnNumber()) ? (':' + this.getColumnNumber()) : '';\n            return functionName + args + fileName + lineNumber + columnNumber;\n        }\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+\\:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[\\(\\)]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g, '');\n                }\n                var tokens = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(').split(/\\s+/).slice(1);\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var tokens = line.split('@');\n                    var locationParts = this.extractLocation(tokens.pop());\n                    var functionName = tokens.join('@') || undefined;\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                        .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                        .replace(/\\([^\\)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^\\)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^\\(]+\\(([^\\)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stack-generator', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.StackGenerator = factory(root.StackFrame);\n    }\n}(this, function(StackFrame) {\n    return {\n        backtrace: function StackGenerator$$backtrace(opts) {\n            var stack = [];\n            var maxStackSize = 10;\n\n            if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n                maxStackSize = opts.maxStackSize;\n            }\n\n            var curr = arguments.callee;\n            while (curr && stack.length < maxStackSize) {\n                if (!curr['arguments']) {\n                  break;\n                }\n                // Allow V8 optimizations\n                var args = new Array(curr['arguments'].length);\n                for (var i = 0; i < args.length; ++i) {\n                    args[i] = curr['arguments'][i];\n                }\n                if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n                    stack.push(new StackFrame({functionName: RegExp.$1 || undefined, args: args}));\n                } else {\n                    stack.push(new StackFrame({args: args}));\n                }\n\n                try {\n                    curr = curr.caller;\n                } catch (e) {\n                    break;\n                }\n            }\n            return stack;\n        }\n    };\n}));\n","const ErrorStackParser = require('error-stack-parser')\nconst StackGenerator = require('stack-generator')\nconst hasStack = require('./lib/has-stack')\nconst { reduce, filter } = require('./lib/es-utils')\n\nclass BugsnagReport {\n  constructor (errorClass, errorMessage, stacktrace = [], handledState = defaultHandledState()) {\n    // duck-typing ftw >_<\n    this.__isBugsnagReport = true\n\n    this._ignored = false\n\n    // private (un)handled state\n    this._handledState = handledState\n\n    // setable props\n    this.app = undefined\n    this.apiKey = undefined\n    this.breadcrumbs = []\n    this.context = undefined\n    this.device = undefined\n    this.errorClass = stringOrFallback(errorClass, '[no error class]')\n    this.errorMessage = stringOrFallback(errorMessage, '[no error message]')\n    this.groupingHash = undefined\n    this.metaData = {}\n    this.request = undefined\n    this.severity = this._handledState.severity\n    this.stacktrace = reduce(stacktrace, (accum, frame) => {\n      const f = formatStackframe(frame)\n      // don't include a stackframe if none of its properties are defined\n      try {\n        if (JSON.stringify(f) === '{}') return accum\n        return accum.concat(f)\n      } catch (e) {\n        return accum\n      }\n    }, [])\n    this.user = undefined\n    this.session = undefined\n  }\n\n  ignore () {\n    this._ignored = true\n  }\n\n  isIgnored () {\n    return this._ignored\n  }\n\n  updateMetaData (section, ...args) {\n    if (!section) return this\n    let updates\n\n    // updateMetaData(\"section\", null) -> removes section\n    if (args[0] === null) return this.removeMetaData(section)\n\n    // updateMetaData(\"section\", \"property\", null) -> removes property from section\n    if (args[1] === null) return this.removeMetaData(section, args[0], args[1])\n\n    // normalise the two supported input types into object form\n    if (typeof args[0] === 'object') updates = args[0]\n    if (typeof args[0] === 'string') updates = { [args[0]]: args[1] }\n\n    // exit if we don't have an updates object at this point\n    if (!updates) return this\n\n    // ensure a section with this name exists\n    if (!this.metaData[section]) this.metaData[section] = {}\n\n    // merge the updates with the existing section\n    this.metaData[section] = { ...this.metaData[section], ...updates }\n\n    return this\n  }\n\n  removeMetaData (section, property) {\n    if (typeof section !== 'string') return this\n\n    // remove an entire section\n    if (!property) {\n      delete this.metaData[section]\n      return this\n    }\n\n    // remove a single property from a section\n    if (this.metaData[section]) {\n      delete this.metaData[section][property]\n      return this\n    }\n\n    return this\n  }\n\n  toJSON () {\n    return {\n      payloadVersion: '4',\n      exceptions: [\n        {\n          errorClass: this.errorClass,\n          message: this.errorMessage,\n          stacktrace: this.stacktrace,\n          type: 'browserjs'\n        }\n      ],\n      severity: this.severity,\n      unhandled: this._handledState.unhandled,\n      severityReason: this._handledState.severityReason,\n      app: this.app,\n      device: this.device,\n      breadcrumbs: this.breadcrumbs,\n      context: this.context,\n      user: this.user,\n      metaData: this.metaData,\n      groupingHash: this.groupingHash,\n      request: this.request,\n      session: this.session\n    }\n  }\n}\n\n// force `fast-safe-stringify` to do its thing\n// https://github.com/davidmarkclements/fast-safe-stringify#tojson-support\nBugsnagReport.prototype.toJSON.forceDecirc = true\n\n// takes a stacktrace.js style stackframe (https://github.com/stacktracejs/stackframe)\n// and returns a Bugsnag compatible stackframe (https://docs.bugsnag.com/api/error-reporting/#json-payload)\nconst formatStackframe = frame => {\n  const f = {\n    file: frame.fileName,\n    method: normaliseFunctionName(frame.functionName),\n    lineNumber: frame.lineNumber,\n    columnNumber: frame.columnNumber,\n    code: undefined,\n    inProject: undefined\n  }\n  // Some instances result in no file:\n  // - calling notify() from chrome's terminal results in no file/method.\n  // - non-error exception thrown from global code in FF\n  // This adds one.\n  if (f.lineNumber > -1 && !f.file && !f.method) {\n    f.file = 'global code'\n  }\n  return f\n}\n\nconst normaliseFunctionName = name => /^global code$/i.test(name) ? 'global code' : name\n\nconst defaultHandledState = () => ({\n  unhandled: false,\n  severity: 'warning',\n  severityReason: { type: 'handledException' }\n})\n\nconst stringOrFallback = (str, fallback) => typeof str === 'string' && str ? str : fallback\n\n// Helpers\n\nBugsnagReport.getStacktrace = (error, errorFramesToSkip = 0, generatedFramesToSkip = 0) => {\n  if (hasStack(error)) return ErrorStackParser.parse(error).slice(errorFramesToSkip)\n  // error wasn't provided or didn't have a stacktrace so try to walk the callstack\n  return filter(StackGenerator.backtrace(), frame =>\n    (frame.functionName || '').indexOf('StackGenerator$$') === -1\n  ).slice(1 + generatedFramesToSkip)\n}\n\nBugsnagReport.ensureReport = function (reportOrError, errorFramesToSkip = 0, generatedFramesToSkip = 0) {\n  // notify() can be called with a Report object. In this case no action is required\n  if (reportOrError.__isBugsnagReport) return reportOrError\n  try {\n    const stacktrace = BugsnagReport.getStacktrace(reportOrError, errorFramesToSkip, 1 + generatedFramesToSkip)\n    return new BugsnagReport(reportOrError.name, reportOrError.message, stacktrace)\n  } catch (e) {\n    return new BugsnagReport(reportOrError.name, reportOrError.message, [])\n  }\n}\n\nmodule.exports = BugsnagReport\n","/**\n * cuid.js\n * Collision-resistant UID generator for browsers and node.\n * Sequential for fast db lookups and recency sorting.\n * Safe for element IDs and server-side lookups.\n *\n * Extracted from CLCTR\n *\n * Copyright (c) Eric Elliott 2012\n * MIT License\n */\n\n/*global window, navigator, document, require, process, module */\n(function (app) {\n  'use strict';\n  var namespace = 'cuid',\n    c = 0,\n    blockSize = 4,\n    base = 36,\n    discreteValues = Math.pow(base, blockSize),\n\n    pad = function pad(num, size) {\n      var s = \"000000000\" + num;\n      return s.substr(s.length-size);\n    },\n\n    randomBlock = function randomBlock() {\n      return pad((Math.random() *\n            discreteValues << 0)\n            .toString(base), blockSize);\n    },\n\n    safeCounter = function () {\n      c = (c < discreteValues) ? c : 0;\n      c++; // this is not subliminal\n      return c - 1;\n    },\n\n    api = function cuid() {\n      // Starting with a lowercase letter makes\n      // it HTML element ID friendly.\n      var letter = 'c', // hard-coded allows for sequential access\n\n        // timestamp\n        // warning: this exposes the exact date and time\n        // that the uid was created.\n        timestamp = (new Date().getTime()).toString(base),\n\n        // Prevent same-machine collisions.\n        counter,\n\n        // A few chars to generate distinct ids for different\n        // clients (so different computers are far less\n        // likely to generate the same id)\n        fingerprint = api.fingerprint(),\n\n        // Grab some more chars from Math.random()\n        random = randomBlock() + randomBlock();\n\n        counter = pad(safeCounter().toString(base), blockSize);\n\n      return  (letter + timestamp + counter + fingerprint + random);\n    };\n\n  api.slug = function slug() {\n    var date = new Date().getTime().toString(36),\n      counter,\n      print = api.fingerprint().slice(0,1) +\n        api.fingerprint().slice(-1),\n      random = randomBlock().slice(-2);\n\n      counter = safeCounter().toString(36).slice(-4);\n\n    return date.slice(-2) +\n      counter + print + random;\n  };\n\n  api.globalCount = function globalCount() {\n    // We want to cache the results of this\n    var cache = (function calc() {\n        var i,\n          count = 0;\n\n        for (i in window) {\n          count++;\n        }\n\n        return count;\n      }());\n\n    api.globalCount = function () { return cache; };\n    return cache;\n  };\n\n  api.fingerprint = function browserPrint() {\n    return pad((navigator.mimeTypes.length +\n      navigator.userAgent.length).toString(36) +\n      api.globalCount().toString(36), 4);\n  };\n\n  // don't change anything from here down.\n  if (app.register) {\n    app.register(namespace, api);\n  } else if (typeof module !== 'undefined') {\n    module.exports = api;\n  } else {\n    app[namespace] = api;\n  }\n\n}(this.applitude || this));\n","const { isoDate } = require('./lib/es-utils')\nconst cuid = require('cuid')\n\nclass Session {\n  constructor () {\n    this.id = cuid()\n    this.startedAt = isoDate()\n    this._handled = 0\n    this._unhandled = 0\n  }\n  toJSON () {\n    return {\n      id: this.id,\n      startedAt: this.startedAt,\n      events: { handled: this._handled, unhandled: this._unhandled }\n    }\n  }\n  trackError (report) {\n    this[report._handledState.unhandled ? '_unhandled' : '_handled'] += 1\n  }\n}\n\n// force `fast-safe-stringify` to do its thing\n// https://github.com/davidmarkclements/fast-safe-stringify#tojson-support\nSession.prototype.toJSON.forceDecirc = true\n\nmodule.exports = Session\n","\n/**\n * Expose `isError`.\n */\n\nmodule.exports = isError;\n\n/**\n * Test whether `value` is error object.\n *\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction isError(value) {\n  switch (Object.prototype.toString.call(value)) {\n    case '[object Error]': return true;\n    case '[object Exception]': return true;\n    case '[object DOMException]': return true;\n    default: return value instanceof Error;\n  }\n}\n","const config = require('./config')\nconst BugsnagReport = require('./report')\nconst BugsnagBreadcrumb = require('./breadcrumb')\nconst BugsnagSession = require('./session')\nconst { map, reduce, includes, isArray } = require('./lib/es-utils')\nconst inferReleaseStage = require('./lib/infer-release-stage')\nconst jsonStringify = require('fast-safe-stringify')\nconst isError = require('iserror')\n\nconst noop = () => {}\n\nclass BugsnagClient {\n  constructor (notifier, configSchema = config.schema, session = null) {\n    if (!notifier) throw new Error('new BugsnagClient(notifier, configSchema) requires `notifier` argument')\n    if (!notifier.name || !notifier.version || !notifier.url) {\n      throw new Error('new BugsnagClient(notifier, configSchema) - `notifier` requires: `{ name, version, url }`')\n    }\n\n    // notifier id\n    this.notifier = notifier\n\n    // config\n    this.configSchema = configSchema\n\n    // configure() should be called before notify()\n    this._configured = false\n\n    // i/o\n    this._transport = { name: 'NULL_TRANSPORT', sendSession: noop, sendReport: noop }\n    this._logger = { debug: noop, info: noop, warn: noop, error: noop }\n\n    // plugins\n    this.plugins = []\n\n    this.session = session\n    this.beforeSession = []\n\n    this.breadcrumbs = []\n\n    // setable props\n    this.app = {}\n    this.context = undefined\n    this.device = undefined\n    this.metaData = undefined\n    this.request = undefined\n    this.user = {}\n\n    // expose internal constructors\n    this.BugsnagReport = BugsnagReport\n    this.BugsnagBreadcrumb = BugsnagBreadcrumb\n    this.BugsnagSession = BugsnagSession\n  }\n\n  configure (opts = {}) {\n    this.config = config.mergeDefaults({ ...this.config, ...opts }, this.configSchema)\n    const validity = config.validate(this.config, this.configSchema)\n    if (!validity.valid === true) {\n      const err = new Error('Bugsnag configuration error')\n      err.errors = map(validity.errors, (err) => `${err.key} ${err.message} \\n  ${err.value}`)\n      throw err\n    }\n    if (typeof this.config.beforeSend === 'function') this.config.beforeSend = [ this.config.beforeSend ]\n    if (this.config.appVersion !== null) this.app.version = this.config.appVersion\n    if (this.config.metaData) this.metaData = this.config.metaData\n    if (this.config.user) this.user = this.config.user\n    this._configured = true\n    this._logger.debug(`Loaded!`)\n    return this\n  }\n\n  use (plugin) {\n    this.plugins.push(plugin)\n    return plugin.init(this)\n  }\n\n  transport (t) {\n    this._transport = t\n    return this\n  }\n\n  logger (l, sid) {\n    this._logger = l\n    return this\n  }\n\n  sessionDelegate (s) {\n    this._sessionDelegate = s\n    return this\n  }\n\n  startSession () {\n    if (!this._sessionDelegate) {\n      this._logger.warn('No session implementation is installed')\n      return this\n    }\n    return this._sessionDelegate.startSession(this)\n  }\n\n  leaveBreadcrumb (name, metaData, type, timestamp) {\n    if (!this._configured) throw new Error('Bugsnag must be configured before calling leaveBreadcrumb()')\n\n    // coerce bad values so that the defaults get set\n    name = name || undefined\n    type = typeof type === 'string' ? type : undefined\n    timestamp = typeof timestamp === 'string' ? timestamp : undefined\n    metaData = typeof metaData === 'object' && metaData !== null ? metaData : undefined\n\n    // if no name and no metaData, usefulness of this crumb is questionable at best so discard\n    if (typeof name !== 'string' && !metaData) return\n\n    const crumb = new BugsnagBreadcrumb(name, metaData, type, timestamp)\n\n    // push the valid crumb onto the queue and maintain the length\n    this.breadcrumbs.push(crumb)\n    if (this.breadcrumbs.length > this.config.maxBreadcrumbs) {\n      this.breadcrumbs = this.breadcrumbs.slice(this.breadcrumbs.length - this.config.maxBreadcrumbs)\n    }\n\n    return this\n  }\n\n  notify (error, opts = {}) {\n    if (!this._configured) throw new Error('Bugsnag must be configured before calling report()')\n\n    // releaseStage can be set via config.releaseStage or client.app.releaseStage\n    const releaseStage = inferReleaseStage(this)\n\n    // ensure we have an error (or a reasonable object representation of an error)\n    let { err, errorFramesToSkip, _opts } = normaliseError(error, opts, this._logger)\n    if (_opts) opts = _opts\n\n    // if we have something falsey at this point, report usage error\n    if (!err) {\n      this._logger.warn(`Usage error. notify() called with no \"error\" parameter`)\n      err = new Error('Bugsnag usage error. notify() called with no \"error\" parameter')\n    }\n\n    // ensure opts is an object\n    if (typeof opts !== 'object' || opts === null) opts = {}\n\n    // create a report from the error, if it isn't one already\n    const report = BugsnagReport.ensureReport(err, errorFramesToSkip, 1)\n\n    report.app = { ...{ releaseStage }, ...report.app, ...this.app }\n    report.context = report.context || opts.context || this.context || undefined\n    report.device = { ...report.device, ...this.device, ...opts.device }\n    report.request = { ...report.request, ...this.request, ...opts.request }\n    report.user = { ...report.user, ...this.user, ...opts.user }\n    report.metaData = { ...report.metaData, ...this.metaData, ...opts.metaData }\n    report.breadcrumbs = this.breadcrumbs.slice(0)\n\n    if (this.session) {\n      this.session.trackError(report)\n      report.session = this.session\n    }\n\n    // set severity if supplied\n    if (opts.severity !== undefined) {\n      report.severity = opts.severity\n      report._handledState.severityReason = { type: 'userSpecifiedSeverity' }\n    }\n\n    // exit early if the reports should not be sent on the current releaseStage\n    if (isArray(this.config.notifyReleaseStages) && !includes(this.config.notifyReleaseStages, releaseStage)) {\n      this._logger.warn(`Report not sent due to releaseStage/notifyReleaseStages configuration`)\n      return false\n    }\n\n    const originalSeverity = report.severity\n\n    const beforeSend = [].concat(opts.beforeSend).concat(this.config.beforeSend)\n    const preventSend = reduce(beforeSend, (accum, fn) => {\n      if (accum === true) return true\n      if (typeof fn === 'function' && fn(report) === false) return true\n      if (report.isIgnored()) return true\n      return false\n    }, false)\n\n    if (preventSend) {\n      this._logger.debug(`Report not sent due to beforeSend callback`)\n      return false\n    }\n\n    // only leave a crumb for the error if actually got sent\n    if (this.config.autoBreadcrumbs) {\n      this.leaveBreadcrumb(report.errorClass, {\n        errorClass: report.errorClass,\n        errorMessage: report.errorMessage,\n        severity: report.severity,\n        stacktrace: report.stacktrace\n      }, 'error')\n    }\n\n    if (originalSeverity !== report.severity) {\n      report._handledState.severityReason = { type: 'userCallbackSetSeverity' }\n    }\n\n    this._transport.sendReport(this._logger, this.config, {\n      apiKey: report.apiKey || this.config.apiKey,\n      notifier: this.notifier,\n      events: [ report ]\n    })\n\n    return true\n  }\n}\n\nconst normaliseError = (error, opts, logger) => {\n  let err\n  let errorFramesToSkip = 0\n  let _opts\n  switch (typeof error) {\n    case 'string':\n      if (typeof opts === 'string') {\n        // ≤v3 used to have a notify('ErrorName', 'Error message') interface\n        // report usage/deprecation errors if this function is called like that\n        logger.warn(`Usage error. notify() called with (string, string) but expected (error, object)`)\n        err = new Error('Bugsnag usage error. notify() called with (string, string) but expected (error, object)')\n        _opts = { metaData: { notifier: { notifyArgs: [ error, opts ] } } }\n      } else {\n        err = new Error(String(error))\n        errorFramesToSkip += 2\n      }\n      break\n    case 'number':\n    case 'boolean':\n      err = new Error(String(error))\n      break\n    case 'function':\n      logger.warn(`Usage error. notify() called with a function as \"error\" parameter`)\n      err = new Error('Bugsnag usage error. notify() called with a function as \"error\" parameter')\n      break\n    case 'object':\n      if (error !== null && (isError(error) || error.__isBugsnagReport)) {\n        err = error\n      } else if (error !== null && hasNecessaryFields(error)) {\n        err = new Error(error.message || error.errorMessage)\n        err.name = error.name || error.errorClass\n        errorFramesToSkip += 2\n      } else {\n        logger.warn(`Usage error. notify() called with an unsupported object as \"error\" parameter. Supply an Error or { name, message } object.`)\n        err = new Error('Bugsnag usage error. notify() called with an unsupported object as \"error\" parameter. Supply an Error or { name, message } object.')\n      }\n      break\n  }\n  return { err, errorFramesToSkip, _opts }\n}\n\nconst hasNecessaryFields = error =>\n  (typeof error.name === 'string' || typeof error.errorClass === 'string') &&\n  (typeof error.message === 'string' || typeof error.errorMessage === 'string')\n\nmodule.exports = BugsnagClient\n","const positiveIntIfDefined = require('../lib/positive-int-check')\n\n/*\n * Throttles and dedupes error reports\n */\n\nmodule.exports = {\n  init: (client) => {\n    // track sent events for each init of the plugin\n    let n = 0\n\n    // add beforeSend hook\n    client.config.beforeSend.push((report) => {\n      // have max events been sent already?\n      if (n >= client.config.maxEvents) return report.ignore()\n      n++\n    })\n\n    client.refresh = () => { n = 0 }\n  },\n  configSchema: {\n    maxEvents: {\n      defaultValue: () => 10,\n      message: '(number) maxEvents must be a positive integer ≤100',\n      validate: val => positiveIntIfDefined(val) && val < 100\n    }\n  }\n}\n","module.exports = {\n  releaseStage: {\n    defaultValue: () => {\n      if (/^localhost(:\\d+)?$/.test(window.location.host)) return 'development'\n      return 'production'\n    },\n    message: '(string) releaseStage should be set',\n    validate: value => typeof value === 'string' && value.length\n  },\n  collectUserIp: {\n    defaultValue: () => true,\n    message: '(boolean) collectUserIp should true/false',\n    validate: value => value === true || value === false\n  }\n}\n","const { map, reduce, filter } = require('../../base/lib/es-utils')\n\n/*\n * Leaves breadcrumbs when console log methods are called\n */\nmodule.exports = {\n  init: (client) => {\n    map(CONSOLE_LOG_METHODS, method => {\n      const original = console[method]\n      console[method] = (...args) => {\n        client.leaveBreadcrumb('Console output', reduce(args, (accum, arg, i) => {\n          // do the best/simplest stringification of each argument\n          let stringified = String(arg)\n          // if it stringifies to [object Object] attempt to JSON stringify\n          if (stringified === '[object Object]') {\n            // catch stringify errors and fallback to [object Object]\n            try { stringified = JSON.stringify(arg) } catch (e) {}\n          }\n          accum[`[${i}]`] = stringified\n          return accum\n        }, {\n          severity: method.indexOf('group') === 0 ? 'log' : method\n        }), 'log')\n        original.apply(console, args)\n      }\n      console[method]._restore = () => { console[method] = original }\n    })\n  },\n  destroy: () => CONSOLE_LOG_METHODS.forEach(method => {\n    if (typeof console[method]._restore === 'function') console[method]._restore()\n  }),\n  configSchema: {\n    consoleBreadcrumbsEnabled: {\n      defaultValue: () => undefined,\n      validate: (value) => value === true || value === false || value === undefined,\n      message: '(boolean) consoleBreadcrumbsEnabled should be true or false'\n    }\n  }\n}\n\nconst CONSOLE_LOG_METHODS = filter([ 'log', 'debug', 'info', 'warn', 'error' ], method =>\n  typeof console !== 'undefined' && typeof console[method] === 'function'\n)\n","/*\n * Sets the default context to be the current URL\n */\nmodule.exports = {\n  init: (client) => {\n    client.config.beforeSend.unshift(report => {\n      if (report.context) return\n      report.context = window.location.pathname\n    })\n  }\n}\n","const { isoDate } = require('../../base/lib/es-utils')\n/*\n * Automatically detects browser device details\n */\nmodule.exports = {\n  init: (client) => {\n    client.config.beforeSend.unshift((report) => {\n      report.device = {\n        ...{\n          time: isoDate(),\n          locale: navigator.browserLanguage || navigator.systemLanguage || navigator.userLanguage || navigator.language,\n          userAgent: navigator.userAgent\n        },\n        ...report.device\n      }\n    })\n\n    client.beforeSession.push(session => { session.device = { userAgent: navigator.userAgent } })\n  }\n}\n","const { reduce } = require('../../base/lib/es-utils')\n\nmodule.exports = {\n  init: (client) => {\n    let html = ''\n    let DOMContentLoaded = false\n    const getHtml = () => document.documentElement.outerHTML\n    const originalLocation = window.location.href\n\n    const addInlineContent = report => {\n      const frame = report.stacktrace[0]\n      if (!frame || !frame.file || !frame.lineNumber) return frame\n      if (frame.file.replace(/#.*$/, '') !== originalLocation.replace(/#.*$/, '')) return frame\n      if (!DOMContentLoaded || !html) html = getHtml()\n      const htmlLines = [ '<!-- DOCUMENT START -->' ].concat(html.split('\\n'))\n      const { script, start } = extractScriptContent(htmlLines, frame.lineNumber - 1)\n      const code = reduce(script, (accum, line, i) => {\n        if (Math.abs((start + i + 1) - frame.lineNumber) > 10) return accum\n        accum[`${start + i + 1}`] = line\n        return accum\n      }, {})\n      frame.code = code\n      report.updateMetaData('script', { content: script.join('\\n') })\n    }\n\n    // get whatever HTML exists at this point in time\n    html = getHtml()\n\n    // then update it when the DOM content has loaded\n    document.onreadystatechange = () => {\n      // IE8 compatible alternative to document#DOMContentLoaded\n      if (document.readyState === 'interactive') {\n        html = getHtml()\n        DOMContentLoaded = true\n      }\n    }\n\n    client.config.beforeSend.unshift(addInlineContent)\n  }\n}\n\nconst scriptStartRe = /^.*<script.*?>/\nconst scriptEndRe = /<\\/script>.*$/\nconst extractScriptContent = module.exports.extractScriptContent = (lines, startLine) => {\n  // search down for </script>\n  let line = startLine\n  while (line < lines.length && !scriptEndRe.test(lines[line])) line++\n\n  // search up for <script>\n  const end = line\n  while (line > 0 && !scriptStartRe.test(lines[line])) line--\n  const start = line\n\n  // strip <script> tags so that lines just contain js content\n  const script = lines.slice(start, end + 1)\n  script[0] = script[0].replace(scriptStartRe, '')\n  script[script.length - 1] = script[script.length - 1].replace(scriptEndRe, '')\n\n  // return the array of lines, and the line number the script started at\n  return { script, start }\n}\n","/*\n * Prevent collection of user IPs\n */\nmodule.exports = {\n  init: (client) => {\n    if (client.config.collectUserIp) return\n    client.config.beforeSend.push(report => {\n      report.user = { id: '[NOT COLLECTED]', ...report.user }\n      report.request = { clientIp: '[NOT COLLECTED]', ...report.request }\n    })\n  }\n}\n","/*\n * Leaves breadcrumbs when navigation methods are called or events are emitted\n */\nmodule.exports = {\n  init: (client) => {\n    if (!('addEventListener' in window)) return\n\n    // returns a function that will drop a breadcrumb with a given name\n    const drop = name => () => client.leaveBreadcrumb(name, {}, 'navigation')\n\n    // simple drops – just names, no meta\n    window.addEventListener('pagehide', drop('Page hidden'), true)\n    window.addEventListener('pageshow', drop('Page shown'), true)\n    window.addEventListener('load', drop('Page loaded'), true)\n    window.document.addEventListener('DOMContentLoaded', drop('DOMContentLoaded'), true)\n    // some browsers like to emit popstate when the page loads, so only add the postate listener after that\n    window.addEventListener('load', () => window.addEventListener('popstate', drop('Navigated back'), true))\n\n    // hashchange has some metaData that we care about\n    window.addEventListener('hashchange', event => {\n      const metaData = event.oldURL\n        ? { from: relativeLocation(event.oldURL), to: relativeLocation(event.newURL), state: window.history.state }\n        : { to: relativeLocation(window.location.href) }\n      client.leaveBreadcrumb('Hash changed', metaData, 'navigation')\n    }, true)\n\n    // the only way to know about replaceState/pushState is to wrap them… >_<\n\n    if (window.history.replaceState) wrapHistoryFn(client, window.history, 'replaceState')\n    if (window.history.pushState) wrapHistoryFn(client, window.history, 'pushState')\n\n    client.leaveBreadcrumb('Bugsnag loaded', {}, 'navigation')\n  },\n  destroy: () => {\n    window.history.replaceState._restore()\n    window.history.pushState._restore()\n  },\n  configSchema: {\n    navigationBreadcrumbsEnabled: {\n      defaultValue: () => undefined,\n      validate: (value) => value === true || value === false || value === undefined,\n      message: '(boolean) navigationBreadcrumbsEnabled should be true or false'\n    }\n  }\n}\n\n// takes a full url like http://foo.com:1234/pages/01.html?yes=no#section-2 and returns\n// just the path and hash parts, e.g. /pages/01.html?yes=no#section-2\nconst relativeLocation = url => {\n  const a = document.createElement('A')\n  a.href = url\n  return `${a.pathname}${a.search}${a.hash}`\n}\n\nconst stateChangeToMetaData = (state, title, url) => {\n  const currentPath = relativeLocation(window.location.href)\n  return { title, state, prevState: window.history.state, to: url || currentPath, from: currentPath }\n}\n\nconst wrapHistoryFn = (client, target, fn) => {\n  const orig = target[fn]\n  target[fn] = (state, title, url) => {\n    client.leaveBreadcrumb(`History ${fn}`, stateChangeToMetaData(state, title, url), 'navigation')\n    // if throttle plugin is in use, refresh the event sent count\n    if (typeof client.refresh === 'function') client.refresh()\n    // if the client is operating in session-mode, a new route should trigger a new session\n    if (client.session) client.startSession()\n    orig.call(target, state, title, url)\n  }\n  target[fn]._restore = () => { target[fn] = orig }\n}\n","/*\n * Sets the report request: { url } to be the current href\n */\nmodule.exports = {\n  init: (client) => {\n    client.config.beforeSend.unshift(report => {\n      if (report.request && report.request.url) return\n      report.request = { ...report.request, url: window.location.href }\n    })\n  }\n}\n","const { map, isArray, includes } = require('../../base/lib/es-utils')\nconst inferReleaseStage = require('../../base/lib/infer-release-stage')\n\nmodule.exports = {\n  init: client => client.sessionDelegate(sessionDelegate)\n}\n\nconst sessionDelegate = {\n  startSession: client => {\n    const sessionClient = client\n    sessionClient.session = new client.BugsnagSession()\n\n    map(sessionClient.beforeSession, (fn) => fn(sessionClient))\n\n    const releaseStage = inferReleaseStage(sessionClient)\n\n    // exit early if the reports should not be sent on the current releaseStage\n    if (isArray(sessionClient.config.notifyReleaseStages) && !includes(sessionClient.config.notifyReleaseStages, releaseStage)) {\n      sessionClient._logger.warn(`Session not sent due to releaseStage/notifyReleaseStages configuration`)\n      return sessionClient\n    }\n\n    sessionClient._transport.sendSession(\n      sessionClient._logger,\n      sessionClient.config,\n      {\n        notifier: sessionClient.notifier,\n        device: sessionClient.device,\n        app: { ...{ releaseStage }, ...sessionClient.app },\n        sessions: [\n          {\n            id: sessionClient.session.id,\n            startedAt: sessionClient.session.startedAt,\n            user: sessionClient.user\n          }\n        ]\n      }\n    )\n\n    return sessionClient\n  }\n}\n","/*\n * Remove query strings (and fragments) from stacktraces\n */\nconst { map } = require('../../base/lib/es-utils')\n\nmodule.exports = {\n  init: (client) => {\n    client.config.beforeSend.push(report => {\n      report.stacktrace = map(report.stacktrace, frame => ({ ...frame, file: strip(frame.file) }))\n    })\n  }\n}\n\nconst strip = module.exports._strip = str =>\n  typeof str === 'string'\n    ? str.replace(/\\?.*$/, '').replace(/#.*$/, '')\n    : str\n","const ErrorStackParser = require('error-stack-parser')\nconst hasStack = require('../../base/lib/has-stack')\nconst { reduce } = require('../../base/lib/es-utils')\nconst isError = require('iserror')\n\n/*\n * Automatically notifies Bugsnag when window.onunhandledrejection is called\n */\nlet _listener\nmodule.exports = {\n  init: (client) => {\n    const listener = event => {\n      let error = event.reason\n      let isBluebird = false\n\n      if (event.detail && event.detail.reason) {\n        error = event.detail.reason\n        isBluebird = true\n      }\n\n      const handledState = {\n        severity: 'error',\n        unhandled: true,\n        severityReason: { type: 'unhandledPromiseRejection' }\n      }\n\n      let report\n      if (error && hasStack(error)) {\n        // if it quacks like an Error…\n        report = new client.BugsnagReport(error.name, error.message, ErrorStackParser.parse(error), handledState)\n        if (isBluebird) {\n          report.stacktrace = reduce(report.stacktrace, fixBluebirdStacktrace(error), [])\n        }\n      } else {\n        // if it doesn't…\n        const msg = 'Rejection reason was not an Error. See \"Promise\" tab for more detail.'\n        report = new client.BugsnagReport(\n          error && error.name ? error.name : 'UnhandledRejection',\n          error && error.message ? error.message : msg,\n          [],\n          handledState\n        )\n        // stuff the rejection reason into metaData, it could be useful\n        report.updateMetaData('promise', 'rejection reason', serializableReason(error))\n      }\n\n      client.notify(report)\n    }\n    if ('addEventListener' in window) {\n      window.addEventListener('unhandledrejection', listener)\n    } else {\n      window.onunhandledrejection = (reason, promise) => {\n        listener({ detail: { reason, promise } })\n      }\n    }\n    _listener = listener\n  },\n  destroy: () => {\n    if (_listener) {\n      if ('addEventListener' in window) {\n        window.removeEventListener('unhandledrejection', _listener)\n      } else {\n        window.onunhandledrejection = null\n      }\n    }\n    _listener = null\n  }\n}\n\nconst serializableReason = (err) => {\n  if (err === null || err === undefined) {\n    return 'undefined (or null)'\n  } else if (isError(err)) {\n    return {\n      [Object.prototype.toString.call(err)]: {\n        name: err.name,\n        message: err.message,\n        code: err.code,\n        stack: err.stack\n      }\n    }\n  } else {\n    return err\n  }\n}\n\n// The stack parser on bluebird stacks in FF get a suprious first frame:\n//\n// Error: derp\n//   b@http://localhost:5000/bluebird.html:22:24\n//   a@http://localhost:5000/bluebird.html:18:9\n//   @http://localhost:5000/bluebird.html:14:9\n//\n// results in\n//   […]\n//     0: Object { file: \"Error: derp\", method: undefined, lineNumber: undefined, … }\n//     1: Object { file: \"http://localhost:5000/bluebird.html\", method: \"b\", lineNumber: 22, … }\n//     2: Object { file: \"http://localhost:5000/bluebird.html\", method: \"a\", lineNumber: 18, … }\n//     3: Object { file: \"http://localhost:5000/bluebird.html\", lineNumber: 14, columnNumber: 9, … }\n//\n// so the following reduce/accumulator function removes such frames\n//\n// Bluebird pads method names with spaces so trim that too…\n// https://github.com/petkaantonov/bluebird/blob/b7f21399816d02f979fe434585334ce901dcaf44/src/debuggability.js#L568-L571\nconst fixBluebirdStacktrace = (error) => (accum, frame) => {\n  if (frame.file === error.toString()) return accum\n  if (frame.method) {\n    frame.method = frame.method.replace(/^\\s+/, '')\n  }\n  return accum.concat(frame)\n}\n","/*\n * Automatically notifies Bugsnag when window.onerror is called\n */\n\nmodule.exports = {\n  init: (client) => {\n    const onerror = (messageOrEvent, url, lineNo, charNo, error) => {\n      // Ignore errors with no info due to CORS settings\n      if (lineNo === 0 && /Script error\\.?/.test(messageOrEvent)) {\n        client._logger.warn('Ignoring cross-domain or eval script error. See https://docs.bugsnag.com/platforms/browsers/faq/#3-cross-origin-script-errors')\n        return\n      }\n\n      // any error sent to window.onerror is unhandled and has severity=error\n      const handledState = { severity: 'error', unhandled: true, severityReason: { type: 'unhandledException' } }\n\n      let report\n      if (error) {\n        if (error.name && error.message) {\n          report = new client.BugsnagReport(error.name, error.message, decorateStack(client.BugsnagReport.getStacktrace(error), url, lineNo, charNo), handledState)\n        } else {\n          report = new client.BugsnagReport('window.onerror', String(error), decorateStack(client.BugsnagReport.getStacktrace(error, 1), url, lineNo, charNo), handledState)\n          report.updateMetaData('window onerror', { error })\n        }\n      } else if ((typeof messageOrEvent === 'object' && messageOrEvent !== null) && !url && !lineNo && !charNo && !error) {\n        const name = messageOrEvent.type ? `Event: ${messageOrEvent.type}` : 'window.onerror'\n        const message = messageOrEvent.message || messageOrEvent.detail || ''\n        report = new client.BugsnagReport(name, message, client.BugsnagReport.getStacktrace(new Error(), 1).slice(1), handledState)\n        report.updateMetaData('window onerror', { event: messageOrEvent })\n      } else {\n        report = new client.BugsnagReport('window.onerror', String(messageOrEvent), decorateStack(client.BugsnagReport.getStacktrace(error, 1), url, lineNo, charNo), handledState)\n        report.updateMetaData('window onerror', { event: messageOrEvent })\n      }\n\n      client.notify(report)\n\n      if (typeof prevOnError === 'function') prevOnError(messageOrEvent, url, lineNo, charNo, error)\n    }\n\n    const prevOnError = window.onerror\n    window.onerror = onerror\n  }\n}\n\nconst decorateStack = (stack, url, lineNo, charNo) => {\n  const culprit = stack[0]\n  if (!culprit) return stack\n  if (!culprit.fileName) culprit.setFileName(url)\n  if (!culprit.lineNumber) culprit.setLineNumber(lineNo)\n  if (!culprit.columnNumber) {\n    if (charNo !== undefined) {\n      culprit.setColumnNumber(charNo)\n    } else if (window.event && window.event.errorCharacter) {\n      culprit.setColumnNumber(window.event && window.event.errorCharacter)\n    }\n  }\n  return stack\n}\n","const jsonStringify = require('fast-safe-stringify')\n\nmodule.exports = report => {\n  let payload = jsonStringify(report)\n  if (payload.length > 10e5) {\n    delete report.events[0].metaData\n    report.events[0].metaData = {\n      notifier:\n`WARNING!\nThe serialized payload was ${payload.length / 10e5}MB. The limit is 1MB.\nreport.metaData was stripped to make the payload of a deliverable size.`\n    }\n    payload = jsonStringify(report)\n    if (payload.length > 10e5) throw new Error('payload exceeded 1MB limit')\n  }\n  return payload\n}\n","const makePayload = require('./lib/payload')\nconst jsonStringify = require('fast-safe-stringify')\nconst { isoDate } = require('../../base/lib/es-utils')\n\nmodule.exports = {\n  name: 'XDomainRequest',\n  sendReport: (logger, config, report, cb = () => {}) => {\n    const url = `${config.endpoint}?apiKey=${encodeURIComponent(config.apiKey)}&payloadVersion=4.0&sentAt=${encodeURIComponent(isoDate())}`\n    const req = new window.XDomainRequest()\n    req.onload = function () {\n      cb(null, req.responseText)\n    }\n    req.open('POST', url)\n    setTimeout(() => {\n      try {\n        req.send(makePayload(report))\n      } catch (e) {\n        logger.error(e)\n      }\n    }, 0)\n  },\n  sendSession: (logger, config, session, cb = () => {}) => {\n    const url = `${config.sessionEndpoint}?apiKey=${encodeURIComponent(config.apiKey)}&payloadVersion=1.0&sentAt=${encodeURIComponent(isoDate())}`\n    const req = new window.XDomainRequest()\n    req.onload = function () {\n      cb(null, req.responseText)\n    }\n    req.open('POST', url)\n    setTimeout(() => {\n      try {\n        req.send(jsonStringify(session))\n      } catch (e) {\n        logger.error(e)\n      }\n    }, 0)\n  }\n}\n","const makePayload = require('./lib/payload')\nconst jsonStringify = require('fast-safe-stringify')\nconst { isoDate } = require('../../base/lib/es-utils')\n\nmodule.exports = {\n  name: 'XMLHttpRequest',\n  sendReport: (logger, config, report, cb = () => {}) => {\n    const url = config.endpoint\n    const req = new window.XMLHttpRequest()\n    req.onreadystatechange = function () {\n      if (req.readyState === window.XMLHttpRequest.DONE) cb(null, req.responseText)\n    }\n    req.open('POST', url)\n    req.setRequestHeader('Content-Type', 'application/json')\n    req.setRequestHeader('Bugsnag-Api-Key', report.apiKey || config.apiKey)\n    req.setRequestHeader('Bugsnag-Payload-Version', '4.0')\n    req.setRequestHeader('Bugsnag-Sent-At', isoDate())\n    try {\n      req.send(makePayload(report))\n    } catch (e) {\n      logger.error(e)\n    }\n  },\n  sendSession: (logger, config, session, cb = () => {}) => {\n    const url = config.sessionEndpoint\n    const req = new window.XMLHttpRequest()\n    req.onreadystatechange = function () {\n      if (req.readyState === window.XMLHttpRequest.DONE) cb(null, req.responseText)\n    }\n    req.open('POST', url)\n    req.setRequestHeader('Content-Type', 'application/json')\n    req.setRequestHeader('Bugsnag-Api-Key', config.apiKey)\n    req.setRequestHeader('Bugsnag-Payload-Version', '1.0')\n    req.setRequestHeader('Bugsnag-Sent-At', isoDate())\n    try {\n      req.send(jsonStringify(session))\n    } catch (e) {\n      logger.error(e)\n    }\n  }\n}\n","const name = 'Bugsnag JavaScript'\nconst version = '4.3.0'\nconst url = 'https://github.com/bugsnag/bugsnag-js'\n\nconst Client = require('../base/client')\nconst Report = require('../base/report')\nconst Session = require('../base/session')\nconst Breadcrumb = require('../base/breadcrumb')\nconst { map, reduce } = require('../base/lib/es-utils')\n\n// extend the base config schema with some browser-specific options\nconst schema = { ...require('../base/config').schema, ...require('./config') }\n\nconst pluginWindowOnerror = require('./plugins/window-onerror')\nconst pluginUnhandledRejection = require('./plugins/unhandled-rejection')\nconst pluginDevice = require('./plugins/device')\nconst pluginContext = require('./plugins/context')\nconst pluginRequest = require('./plugins/request')\nconst pluginThrottle = require('../base/plugins/throttle')\nconst pluginConsoleBreadcrumbs = require('./plugins/console-breadcrumbs')\nconst pluginNavigationBreadcrumbs = require('./plugins/navigation-breadcrumbs')\nconst pluginInteractionBreadcrumbs = require('./plugins/interaction-breadcrumbs')\nconst pluginInlineScriptContent = require('./plugins/inline-script-content')\nconst pluginSessions = require('./plugins/sessions')\nconst pluginIp = require('./plugins/ip')\nconst pluginStripQueryString = require('./plugins/strip-query-string')\n\nconst plugins = [\n  pluginWindowOnerror,\n  pluginUnhandledRejection,\n  pluginDevice,\n  pluginContext,\n  pluginRequest,\n  pluginThrottle,\n  pluginConsoleBreadcrumbs,\n  pluginNavigationBreadcrumbs,\n  pluginInteractionBreadcrumbs,\n  pluginInlineScriptContent,\n  pluginSessions,\n  pluginIp,\n  pluginStripQueryString\n]\n\nconst transports = {\n  'XDomainRequest': require('./transports/x-domain-request'),\n  'XMLHttpRequest': require('./transports/xml-http-request')\n}\n\nmodule.exports = (opts, userPlugins = []) => {\n  // handle very simple use case where user supplies just the api key as a string\n  if (typeof opts === 'string') opts = { apiKey: opts }\n\n  // support renamed option\n  if (opts.sessionTrackingEnabled) {\n    opts.autoCaptureSessions = opts.sessionTrackingEnabled\n  }\n\n  // allow plugins to augment the schema with their own options\n  const finalSchema = reduce([].concat(plugins).concat(userPlugins), (accum, plugin) => {\n    if (!plugin.configSchema) return accum\n    return { ...accum, ...plugin.configSchema }\n  }, schema)\n\n  const bugsnag = new Client({ name, version, url }, finalSchema)\n\n  // set transport based on browser capability (IE 8+9 have an XDomainRequest object)\n  bugsnag.transport(window.XDomainRequest ? transports.XDomainRequest : transports.XMLHttpRequest)\n\n  // set logger based on browser capability\n  if (typeof console !== 'undefined' && typeof console.debug === 'function') {\n    const logger = getPrefixedConsole()\n    bugsnag.logger(logger)\n  }\n\n  try {\n    // configure with user supplied options\n    // errors can be thrown here that prevent the lib from being in a useable state\n    bugsnag.configure(opts)\n  } catch (e) {\n    bugsnag._logger.warn(e)\n    if (e.errors) map(e.errors, bugsnag._logger.warn)\n    // rethrow. if there was an error with configuration\n    // the library is not going to work\n    throw e\n  }\n\n  // always-on browser-specific plugins\n  bugsnag.use(pluginDevice)\n  bugsnag.use(pluginContext)\n  bugsnag.use(pluginRequest)\n  bugsnag.use(pluginInlineScriptContent)\n  bugsnag.use(pluginThrottle)\n  bugsnag.use(pluginSessions)\n  bugsnag.use(pluginIp)\n  bugsnag.use(pluginStripQueryString)\n\n  // optional browser-specific plugins\n\n  if (bugsnag.config.autoNotify !== false) {\n    bugsnag.use(pluginWindowOnerror)\n    bugsnag.use(pluginUnhandledRejection)\n  }\n\n  if (inferBreadcrumbSetting(bugsnag.config, 'navigationBreadcrumbsEnabled')) {\n    bugsnag.use(pluginNavigationBreadcrumbs)\n  }\n\n  if (inferBreadcrumbSetting(bugsnag.config, 'interactionBreadcrumbsEnabled')) {\n    bugsnag.use(pluginInteractionBreadcrumbs)\n  }\n\n  // because console breadcrumbs play havoc with line numbers,\n  // if not explicitly enabled, only setup on non-development evironments\n  if (inferBreadcrumbSetting(bugsnag.config, 'consoleBreadcrumbsEnabled', false)) {\n    bugsnag.use(pluginConsoleBreadcrumbs)\n  }\n\n  // init user supplied plugins\n  map(userPlugins, (plugin) => bugsnag.use(plugin))\n\n  return bugsnag.config.autoCaptureSessions\n    ? bugsnag.startSession()\n    : bugsnag\n}\n\nconst getPrefixedConsole = () => {\n  const logger = {}\n  const consoleLog = console['log']\n  map([ 'debug', 'info', 'warn', 'error' ], (method) => {\n    const consoleMethod = console[method]\n    logger[method] = typeof consoleMethod === 'function'\n      ? consoleMethod.bind(console, '[bugsnag]')\n      : consoleLog.bind(console, '[bugsnag]')\n  })\n  return logger\n}\n\nconst inferBreadcrumbSetting = (config, val, defaultInDev = true) =>\n  typeof config[val] === 'boolean'\n    ? config[val]\n    : (config.autoBreadcrumbs &&\n        (defaultInDev || !/^dev(elopment)?$/.test(config.releaseStage))\n      )\n\n// Stub this value because this is what the type interface looks like\n// (types/bugsnag.d.ts). This is only an issue in Angular's development\n// mode as its TS/DI thingy attempts to use this value at runtime.\n// In most other situations, TS only uses the types at compile time.\nmodule.exports.Bugsnag = {\n  Client,\n  Report,\n  Session,\n  Breadcrumb\n}\n\n// Export a \"default\" property for compatibility with ESM imports\nmodule.exports['default'] = module.exports\n","\nreturn _$browser_12;\n\n});"]}