window.Bugsnag=function(a,b,c){function d(b){var c=a.console;void 0!==c&&void 0!==c.log&&c.log("[Bugsnag] "+b)}function e(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d)&&null!=d&&null!=a[d]){var f=b?b+"["+d+"]":d,g=a[d];c.push("object"==typeof g?e(g,f):encodeURIComponent(f)+"="+encodeURIComponent(g))}return c.join("&")}function f(a,b){if(null==b)return a;a=a||{};for(var c in b)if(b.hasOwnProperty(c))try{a[c]=b[c].constructor===Object?f(a[c],b[c]):b[c]}catch(d){a[c]=b[c]}return a}function g(a,b){if(s.testRequest)s.testRequest(a,b);else{var c=new Image;c.src=a+"?"+e(b)+"&ct=img&cb="+(new Date).getTime()}}function h(a){for(var b={},c=/^data\-([\w\-]+)$/,d=a.attributes,e=0;e<d.length;e++){var f=d[e];if(c.test(f.nodeName)){var g=f.nodeName.match(c)[1];b[g]=f.nodeValue}}return b}function i(a,b){t=t||h(D);var c=void 0!==s[a]?s[a]:t[a.toLowerCase()];return"false"===c&&(c=!1),void 0!==c?c:b}function j(a){return null!=a&&a.match(u)?!0:(d("Invalid API key '"+a+"'"),!1)}function k(b,d){var e=i("apiKey");if(j(e)){for(var h=i("releaseStage")||A,k=i("notifyReleaseStages")||B,l=!1,m=0;m<k.length;m++)if(h===k[m]){l=!0;break}if(l){var n=f(i("metaData"),d),o=s.beforeNotify;if("function"==typeof o){var p=o(b,n);if(p===!1)return}var q=a.location;g(i("endpoint")||x,{notifierVersion:z,apiKey:e,projectRoot:i("projectRoot")||q.protocol+"//"+q.host,context:i("context")||q.pathname,userId:i("userId"),metaData:n,releaseStage:h,url:a.location.href,userAgent:c.userAgent,language:c.language||c.userLanguage,name:b.name,message:b.message,stacktrace:b.stacktrace,file:b.file,lineNumber:b.lineNumber,columnNumber:b.columnNumber})}}}function l(){var a,b=10,c="[anonymous]";try{throw new Error("")}catch(d){a=m(d)}if(!a){for(var e=[],f=arguments.callee.caller.caller;f&&e.length<b;){var g=v.test(f.toString())?RegExp.$1||c:c;e.push(g),f=f.caller}a=e.join("\n")}return a}function m(a){return a.stack||a.backtrace||a.stacktrace}function n(){var a=i("metrics"),b=i("apiKey");if((a===!0||"true"===a)&&j(b)){var c="bugsnag_"+b,d=r(c);null==d&&(d=p(),q(c,d,1e3,!0)),g(i("metricsEndpoint")||y,{userId:d,apiKey:b})}}function o(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function p(){return o()+o()+"-"+o()+"-"+o()+"-"+o()+"-"+o()+o()+o()}function q(c,d,e,f){var g="",h="";if(e){var i=new Date;i.setTime(i.getTime()+1e3*60*60*24*e),h="; expires="+i.toGMTString()}if(f){var j=a.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),k=j?j[0]:"";g=k?"; domain=."+k:""}b.cookie=c+"="+encodeURIComponent(d)+h+"; path=/"+g}function r(a){var c=b.cookie.match(a+"=([^$;]+)");return c?decodeURIComponent(c[1]):null}var s={};s.notifyException=function(a,b,c){"string"!=typeof b&&(c=b),k({name:b||a.name,message:a.message||a.description,stacktrace:m(a)||l(),file:a.fileName||a.sourceURL,lineNumber:a.lineNumber||a.line},c)},s.notify=function(a,b,c){k({name:a,message:b,stacktrace:l()},c)},s._onerror=a.onerror,a.onerror=function(a,b,c,e,f){var g=i("autoNotify",!0);g&&"Script error."===a&&""===b&&0===c&&(d("Error on cross-domain script, couldn't notify Bugsnag."),g=!1),g&&k({name:"window.onerror",message:a,file:b,lineNumber:c,columnNumber:e,stacktrace:f&&m(f)}),s._onerror&&s._onerror(a,b,c)};var t,u=/^[0-9a-f]{32}$/i,v=/function\s*([\w\-$]+)?\s*\(/i,w="https://notify.bugsnag.com/",x=w+"js",y=w+"metrics",z="1.0.10",A="production",B=[A],C=b.getElementsByTagName("script"),D=C[C.length-1];return n(),s}(window,document,navigator);